---
title: Сценарии безопасности приложений в SQL Server
ms.date: 03/30/2017
ms.assetid: 0164f3a4-406e-4693-bec3-03c8e18b46d7
ms.openlocfilehash: 2d0e65f61939312bf29111e87c49366cd9e389be
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/24/2020
ms.locfileid: "91197655"
---
# <a name="application-security-scenarios-in-sql-server"></a>Сценарии безопасности приложений в SQL Server

Не существует единого правильного способа создания безопасного клиентского приложения SQL Server. Каждое приложение отличается уникальными требованиями, средой развертывания и категорией пользователей. Достаточно безопасное приложение при первоначальном развертывании может стать менее безопасным с течением времени. Невозможно предсказать, какие именно угрозы могут возникать в будущем.  
  
 SQL Server развивался с каждой новой версией: в него добавляли новейшие функции безопасности, позволяющие разработчикам создавать защищенные приложения для баз данных. Однако безопасность не поставляется в готовом виде. Для этого требуется непрерывный мониторинг и обновление.  
  
## <a name="common-threats"></a>Наиболее распространенные угрозы  

 Разработчикам необходимо понимать угрозы безопасности, средства, предоставляемые для их устранения, и способы того, как избежать брешей в системе безопасности, вызванных пользователем. Безопасность лучше всего рассматривать как цепочку, разрыв одного звена которой нарушает надежность всей цепи. В следующем списке перечислены некоторые распространенные угрозы безопасности, которые более подробно обсуждаются в разделах этой статьи.  
  
### <a name="sql-injection"></a>внедрение кода SQL;  

 Внедрение кода SQL — это процесс, с помощью которого злонамеренный пользователь вводит инструкции Transact-SQL вместо допустимых входных данных. Если входные данные передаются непосредственно на сервер без проверки и если приложение случайно выполняет введенный код, атака может повредить или уничтожить данные. Можно предотвратить атаки на SQL Server путем внедрения кода, используя хранимые процедуры и параметризованные команды, избегая использования динамического кода SQL и ограничив разрешения для всех пользователей.  
  
### <a name="elevation-of-privilege"></a>Несанкционированное получение привилегий  

 Атаки с повышенными правами возникают, когда пользователь может использовать привилегии доверенной учетной записи, например владельца или администратора. Всегда запускайте приложения под наименее привилегированными учетными записями пользователей и назначайте только необходимые разрешения. Не используйте учетные записи администратора или владельца для выполнения кода. Это ограничит объем урона, который может возникнуть в случае успешной атаки. При выполнении задач, требующих дополнительных разрешений, используйте подписывание процедур или олицетворение только на время выполнения задачи. Можно подписывать хранимые процедуры при помощи сертификатов или использовать олицетворение для временного назначения разрешений.  
  
### <a name="probing-and-intelligent-observation"></a>Зондирование и интеллектуальное наблюдение  

 Атака с зондированием может использовать создаваемые приложением сообщения об ошибках для поиска уязвимостей системы безопасности. Реализуйте обработку ошибок во всем процедурном коде, чтобы предотвратить возвращение сведений об ошибках SQL Server пользователю.  
  
### <a name="authentication"></a>Аутентификация  

 Атака путем внедрения строки подключения может возникнуть при использовании учетных данных SQL Server, если строка подключения на основе вводимых пользователем данных создается во время выполнения. Если строка подключения не проверяется на допустимость пар ключевых слов, злоумышленник может вставить дополнительные символы, потенциально обращающиеся к конфиденциальным данным или другим ресурсам на сервере. По возможности используйте проверку подлинности Windows. Если необходимо использовать учетные данные SQL Server, применяйте <xref:System.Data.SqlClient.SqlConnectionStringBuilder>, чтобы создать и проверить строки подключения во время выполнения.  
  
### <a name="passwords"></a>Пароли  

 Многие атаки успешны, так как злоумышленнику удается получить или подобрать пароль привилегированного пользователя. Пароли являются основным способом защиты от несанкционированного доступа, поэтому для обеспечения безопасности системы обязательна настройка надежных паролей. Вы можете создать и включить политики паролей для смешанной проверки подлинности.  
  
 Всегда назначайте надежный пароль учетной записи `sa`, даже если используется проверка подлинности Windows.  
  
## <a name="in-this-section"></a>в этом разделе  

 [Управление разрешениями с использованием хранимых процедур в SQL Server](managing-permissions-with-stored-procedures-in-sql-server.md)  
 Описывает, как использовать хранимые процедуры для управления разрешениями и контроля доступа к данным. Использование хранимых процедур является эффективным способом ответа на многие угрозы системе безопасности.  
  
 [Написание безопасного динамического кода SQL в SQL Server](writing-secure-dynamic-sql-in-sql-server.md)  
 Здесь описываются методы написания безопасного динамического кода SQL с использованием хранимых процедур.  
  
 [Подписывание хранимых процедур в SQL Server](signing-stored-procedures-in-sql-server.md)  
 Описывает, как подписать хранимую процедуру при помощи сертификата, чтобы дать возможность пользователям работать с данными, к которым у них нет непосредственного доступа. Это позволяет хранимым процедурам выполнять операции, для непосредственного выполнения которых у вызывающей стороны нет разрешений.  
  
 [Настройка разрешений с олицетворением в SQL Server](customizing-permissions-with-impersonation-in-sql-server.md)  
 Описывает, как использовать предложение EXECUTE AS для олицетворения другого пользователя. Олицетворение переключает контекст выполнения с вызывающей стороны на указанного пользователя.  
  
 [Предоставление разрешений уровня строки в SQL Server](granting-row-level-permissions-in-sql-server.md)  
 Описывает, как реализовать разрешения уровня строки для ограничения доступа к данным.  
  
 [Создание ролей приложений в SQL Server](creating-application-roles-in-sql-server.md)  
 Описывает возможности и функции ролей приложения.  
  
 [Организация межбазового доступа в SQL Server](enabling-cross-database-access-in-sql-server.md)  
 Описывает, как включить перекрестный доступ между базами данных, не ухудшая безопасность.  
  
## <a name="see-also"></a>См. также раздел

- [Безопасность SQL Server](sql-server-security.md)
- [Общие сведения о безопасности SQL Server](overview-of-sql-server-security.md)
- [Защита приложений ADO.NET](../securing-ado-net-applications.md)
- [Общие сведения об ADO.NET](../ado-net-overview.md)
