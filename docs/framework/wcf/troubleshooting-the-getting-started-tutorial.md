---
title: Устранение неполадок в руководствах Приступая к работе с Windows Communication Foundation
ms.date: 01/25/2019
ms.assetid: 69a21511-0871-4c41-9a53-93110e84d7fd
ms.openlocfilehash: 4d471372419996c5bc490c2d0fdd83927428a41e
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/26/2020
ms.locfileid: "96281343"
---
# <a name="troubleshoot-the-get-started-with-windows-communication-foundation-tutorials"></a>Устранение неполадок в руководствах Приступая к работе с Windows Communication Foundation

В этой статье приводятся решения для наиболее распространенных проблем и ошибок, которые могут возникнуть при выполнении действий, описанных в этом руководстве. Приступая к [работе с Windows Communication Foundation приложениями](getting-started-tutorial.md).
  
## <a name="common-problems"></a>Распространенные проблемы

**Не удается найти файлы проекта на жестком диске.**

 Visual Studio сохраняет файлы проекта в *C:\Users \\ &lt; имя пользователя &gt; \саурце\репос*.  

**Не удается найти файл *App.config* , созданный *Svcutil.exe*.**

 В Visual Studio в окне **Добавление существующего элемента** по умолчанию отображаются файлы со следующими расширениями:

- *.cs*
- *RESX*
- *. Settings*
- *. xsd*
- *. WSDL*

Чтобы отобразить все типы файлов, выберите **все файлы ( \* . \* )** в раскрывающемся списке в правом нижнем углу окна **Добавление существующего элемента** .  
  
## <a name="common-errors"></a>Распространенные ошибки

### <a name="compile-the-service-application"></a>Компиляция приложения службы

**Ошибка BC30420 "Подпрограмма Main" не найдена в "GettingStartedHost. Module1".**

Неверная точка входа для приложения Visual Basic. Внесите следующие изменения:

   1. В окне **Обозреватель решений** выберите папку **GettingStartedHost** , а затем в контекстном меню выберите пункт **Свойства** .
    a. В окне **GettingStartedHost** в поле **начальный объект** выберите **Service. Program** (или точку входа для конкретного приложения) из списка.
    b. В главном меню выберите **файл**  >  **сохранить все**.

### <a name="run-the-service-application"></a>Запуск приложения службы

**Протоколу HTTP не удалось зарегистрировать URL-адрес "http: \/ /+: 8000/GettingStarted/CalculatorService". Ваш процесс не имеет прав доступа к этому пространству имен.**

 Чтобы получить правильный доступ, запустите процесс, в котором размещена служба Windows Communication Foundation (WCF) с правами администратора:

- Для Visual Studio: выберите программу Visual Studio в меню **Пуск** , а затем в контекстном меню выберите пункт **другие**  >  **Запуск от имени администратора** .
- Для окна консоли: выберите **Командная строка** в меню **Пуск** , а затем в контекстном меню выберите пункт **Дополнительно**  >  **Запуск от имени администратора** .
- Для проводника Windows выберите исполняемый файл, а затем в контекстном меню выберите **Запуск от имени администратора** .

### <a name="compile-the-client-application"></a>Компиляция клиентского приложения

**"CalculatorClient" не содержит определения для " \<method name> ", и не удалось найти метод расширения " \<method name> ", принимающий первый аргумент типа "CalculatorClient" (возможно, пропущена директива using или ссылка на сборку).**  

Открытый доступ предоставляется только к методам, помеченным `ServiceOperationAttribute` атрибутом. Если опустить `ServiceOperationAttribute` атрибут из метода в `ICalculator` интерфейсе, вы получите это сообщение об ошибке во время компиляции.  

**Не удалось найти тип или имя пространства имен "CalculatorClient" (возможно, отсутствует директива using или ссылка на сборку).**

 Эта ошибка возникает, если файл *generatedProxy.CS* (или *женератедпрокси. vb*) не добавляется в проект клиента при их создании с помощью средства *Svcutil.exe* .  

### <a name="run-the-client-application"></a>Выполнение клиентского приложения

**Необработанное исключение: System. ServiceModel. EndpointNotFoundException: не удалось подключиться к "http: \/ /ЛОКАЛХОСТ: 8000/GettingStarted/CalculatorService". Код ошибки TCP 10061: не удалось установить подключение, так как целевой компьютер отказался от него.**

Эта ошибка возникает при запуске клиентского приложения без предварительного запуска службы. Сначала запустите ведущее приложение, чтобы запустить службу, а затем запустите клиентское приложение.

### <a name="use-the-svcutilexe-tool"></a>Использование средства Svcutil.exe

**"Svcutil" не распознается как внутренняя или внешняя команда, исполняемая программа или пакетный файл.**

 *Svcutil.exe* должен быть указан в системном пути. Самым простым решением является использование командной строки Visual Studio. В меню **Пуск** выберите каталог **Visual Studio \<version>** и затем **Командная строка разработчика для VS \<version>** . Эта командная строка задает системный путь к правильным расположениям для всех средств, поставляемых в составе Visual Studio.  
  
### <a name="run-the-service-and-client-applications"></a>Запуск службы и клиентских приложений

**System. ServiceModel. Security. SecurityNegotiationException: сбой согласования безопасности SOAP с "http: \/ /ЛОКАЛХОСТ: 8000/GettingStarted/CalculatorService" для целевого объекта "http: \/ /ЛОКАЛХОСТ: 8000/GettingStarted/CalculatorService"**  

Эта ошибка возникает на компьютере, присоединенном к домену, который не подключен к сети. Подключите компьютер к сети или отключите безопасность для службы и клиента.

Чтобы отключить безопасность, выполните следующие действия.

- Для службы замените код, который создает, `WSHttpBinding` следующим кодом:  
  
    ```csharp
    // Step 3: Add a service endpoint.
    selfhost.AddServiceEndpoint(typeof(ICalculator), new WSHttpBinding(SecurityMode.None), "CalculatorService");  
    ```

- Для клиента в файле конфигурации обновите **\<security>** элемент в **\<binding>** элементе следующим образом:  
  
    ```xml
    <binding name="WSHttpBinding_ICalculator">
      <security mode="None" />
    </binding
    ```  

## <a name="see-also"></a>См. также  

 [Приступая к работе с приложениями WCF](getting-started-tutorial.md)  
 [Краткое руководство по устранению неполадок WCF](wcf-troubleshooting-quickstart.md)  
 [Устранение неполадок при установке](troubleshooting-setup-issues.md)
