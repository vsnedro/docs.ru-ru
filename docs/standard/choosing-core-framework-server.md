---
title: Выбор между .NET Core и .NET Framework для серверных приложений
description: В этом разделе представлены инструкции по принятию решения о том, какая реализация .NET будет использоваться при создании серверного приложения.
author: cartermp
ms.date: 04/28/2020
ms.openlocfilehash: a3c15e8f2198b1bcc4e623a7dc7f5cddca9c83f6
ms.sourcegitcommit: b1f4756120deaecb8b554477bb040620f69a4209
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/03/2020
ms.locfileid: "89415024"
---
# <a name="net-core-vs-net-framework-for-server-apps"></a>Выбор между .NET Core и .NET Framework для серверных приложений

Серверные приложения с поддержкой .NET можно разрабатывать в двух поддерживаемых реализациях: .NET Framework и .NET Core. В них используется множество одинаковых компонентов, а код можно использовать как в одной среде, так и в другой. Но между этими двумя средами также существуют и фундаментальные различия. Поэтому ваш выбор зависит от поставленной задачи. В этой статье содержатся рекомендации по использованию каждой из двух сред выполнения.

Используйте среду .NET Core для создания серверных приложений в следующих случаях:

- для создания кроссплатформенных решений;
- для создания решений, ориентированных на микрослужбы;
- при использовании контейнеров Docker;
- если нужны масштабируемые системы с высокой производительностью;
- для создания приложений с поддержкой разных версий .NET.

Используйте среду .NET Framework для создания серверных приложений в следующих случаях:

- приложение в настоящий момент использует среду .NET Framework (мы рекомендуем расширять приложения, а не переносить их в другую среду);
- приложение использует сторонние библиотеки .NET или пакеты NuGet, недоступные для .NET Core;
- приложение использует технологии .NET, недоступные для .NET Core;
- приложение использует платформу, не поддерживающую .NET Core. Windows, macOS, и Linux поддержка .NET Core.

## <a name="when-to-choose-net-core"></a>Случаи использования .NET Core

В следующих разделах более детально описаны указанные ранее причины для выбора платформы .NET Core.

### <a name="cross-platform-needs"></a>Создание кроссплатформенных приложений

Если вам нужно создать приложение (веб-приложение или службу) с поддержкой разных платформ (Windows, Linux и macOS), рекомендуется использовать .NET Core.

В среде .NET Core также можно использовать упомянутые ранее операционные системы в качестве рабочих станций для разработки. Visual Studio предоставляет интегрированную среду разработки (IDE) для Windows и macOS. Можно также использовать редактор Visual Studio Code, который выполняется на платформах macOS, Linux и Windows. Visual Studio Code поддерживает .NET Core, включая технологию IntelliSense и отладку. С .NET Core работает большинство сторонних редакторов, например Sublime, Emacs и VI. Эти сторонние редакторы получают доступ к функциям в редакторе IntelliSense с помощью [Omnisharp](https://www.omnisharp.net/). Вы также можете использовать вместо редакторов кода непосредственно [.NET Core CLI](../core/tools/index.md), доступный для всех поддерживаемых платформ.

### <a name="microservices-architecture"></a>Архитектура микрослужб

Архитектура микрослужб позволяет использовать сочетание технологий за пределами службы. Такое сочетание технологий позволяет постепенно добавлять новые микросолужбы в .NET Core для параллельного использования с другими микрослужбами и службами. Например, можно комбинировать микрослужбы или службы, созданные на основе .NET Framework, Java, Ruby или других монолитные технологий.

Пользователям на выбор предоставляется множество инфраструктурных платформ. Для больших и сложных систем микрослужб можно использовать [Azure Service Fabric](https://azure.microsoft.com/services/service-fabric/). [Служба приложений Azure](https://azure.microsoft.com/services/app-service/) лучше всего подойдет для микрослужб без сохранения состояния. Альтернативы микрослужб на основе Docker поддерживают любые подходы, как описано в разделе [Контейнеры](#containers). Все эти платформы поддерживают .NET Core и идеально подходят для размещения микрослужб.

Дополнительные сведения об архитектуре микрослужб см. в статье [Микрослужбы .NET: архитектура контейнерных приложений .NET](../architecture/microservices/index.md).

### <a name="containers"></a>Контейнеры

Контейнеры обычно используются вместе с архитектурой микрослужб. Их также можно использовать, чтобы поместить в контейнер веб-приложения или службы на базе любого архитектурного шаблона. Среду .NET Framework можно использовать для контейнеров Windows, но упрощенные возможности и модульный принцип среды .NET Core делают ее оптимальной для контейнеров. При создании и развертывании контейнера размер его образа гораздо меньше в среде .NET Core. Так как эта среда поддерживает разные платформы, серверные приложения можно развертывать, например, в контейнеры Docker в Linux.

Затем эти контейнеры можно размещать в собственной инфраструктуре Linux или Windows или в облачной службе,такой как [Служба Azure Kubernetes](https://azure.microsoft.com/services/kubernetes-service/). Служба Azure Kubernetes может выполнять оркестрацию и масштабировать приложения на основе контейнеров, а также управлять ими в облаке.

### <a name="high-performance-and-scalable-systems"></a>Масштабируемые системы с высокой производительностью

Если для вашей системы требуется максимальная производительность и возможности масштабирования, мы рекомендуем использовать среды .NET Core и ASP.NET Core. Высокопроизводительная серверная среда выполнения для Windows Server и Linux делает .NET самой эффективной веб-платформой в [тестах TechEmpower](https://www.techempower.com/benchmarks/#hw=ph&test=plaintext).

Производительность и масштабируемость особенно важны для архитектур микрослужб, где могут выполняться сотни микрослужб. Среда ASP.NET Core позволяет уменьшить количество серверов и виртуальных машин, необходимых для системы. В конечном счете это способствует сокращению расходов на архитектуру и размещение.

### <a name="side-by-side-net-versions-per-application-level"></a>Создание приложений с поддержкой разных версий .NET

Если требуется установить приложения с зависимостями в разных версиях платформ .NET, рекомендуется использовать среду .NET Core. .NET Core поддерживает параллельную установку разных версий среды выполнения .NET Core на том же компьютере. За счет простой параллельной установки на одном сервере можно размещать несколько служб, каждая из которых устанавливается на собственной версии .NET Core. Это позволяет устранить риски и сократить расходы на обновление приложений и ИТ-операции.

Параллельная установка невозможна при использовании .NET Framework. Это компонент Windows, и на компьютере может существовать только одна версия этого компонента. Каждая версия .NET Framework заменяет предыдущую версию. При установке нового приложения, предназначенного для более поздней версии .NET Framework, может быть нарушена работа существующих приложений, запущенных на компьютере, поскольку предыдущая версия была заменена.

## <a name="when-to-choose-net-framework"></a>Случаи использования .NET Framework

Среда .NET Core предоставляет значительные преимущества для новых приложений и шаблонов приложений. Но платформа .NET Framework остается оптимальным выбором во многих ситуациях, поэтому .NET Core не заменит .NET Framework для всех серверных приложений.

### <a name="current-net-framework-applications"></a>Готовые приложения .NET Framework

В большинстве случаев вам не потребуется переносить готовые приложения в среду .NET Core. Взамен мы советуем использовать .NET Core для расширения готовых приложений, например для написания новой веб-службы в ASP.NET Core.

### <a name="aspnet-core-on-net-framework"></a>ASP.NET Core в .NET Framework

Сведения о поддержке ASP.NET Core в .NET Framework см. в разделе [Политика поддержки .NET Core](https://dotnet.microsoft.com/platform/support/policy/dotnet-core).

### <a name="third-party-libraries-or-nuget-packages-not-available-for-net-core"></a>Сторонние библиотеки .NET и пакеты NuGet, недоступные для .NET Core

Библиотеки быстро распространяются в .NET Standard. .NET Standard позволяет совместно использовать код во всех реализациях .NET, включая .NET Core. С .NET Standard 2.0 это стало еще проще.

- Значительно расширен API-интерфейс.
- Появился режим совместимости .NET Framework.

  Этот режим совместимости позволяет проектам .NET Standard и .NET Core ссылаться на библиотеки .NET Framework. Дополнительные сведения о режиме совместимости см. в статье [Объявление о выпуске .NET Standard 2.0](https://devblogs.microsoft.com/dotnet/announcing-net-standard-2-0/).

Платформу .NET Framework следует применять только в случаях, где библиотеки или пакеты NuGet используют технологии, которые недоступны в .NET Standard и .NET Core.

### <a name="net-technologies-not-available-for-net-core"></a>Технологии .NET, недоступные для .NET Core

Некоторые технологии .NET Framework недоступны в среде .NET Core. Поддержка некоторых из них будет добавлена в последующих выпусках .NET Core. Остальные технологии не применяются к новым шаблонам приложений, используемым в среде .NET Core, и будут недоступными всегда. Ниже приведен список самых распространенных технологий, которые недоступны в .NET Core.

- Приложения веб-форм ASP.NET. Веб-формы ASP.NET доступны только в среде .NET Framework. ASP.NET Core не может использоваться для веб-форм ASP.NET. Добавление веб-форм ASP.NET в среду .NET Core не планируется.

- Приложения веб-страниц ASP.NET. Веб-страницы ASP.NET не добавлены в среду ASP.NET Core.

- Реализация служб WCF. Хотя в среду .NET Core и добавлена [библиотека клиента WCF](https://github.com/dotnet/wcf), позволяющая использовать службы WCF, сервер WCF можно реализовать только в среде .NET Framework. Этот сценарий не входит в текущий план для .NET Core, но он будет рассмотрен в будущем.

- Службы, связанные с рабочими процессами. Службы Windows Workflow Foundation (WF), Workflow Services (WCF и WF в одной службе) и WCF Data Services (известные как "Службы данных ADO.NET") доступны только в среде .NET Framework. Добавление этих технологий в среду .NET Core не планируется.

- Поддержка языков. Сейчас в среде .NET Core поддерживаются Visual Basic и F#, но не для всех типов проектов. Список поддерживаемых шаблонов проектов см. в статье о [параметрах шаблона для dotnet new](../core/tools/dotnet-new.md#arguments).

### <a name="platform-doesnt-support-net-core"></a>Платформа не поддерживает .NET Core

Некоторые платформы Майкрософт и платформы сторонних поставщиков не поддерживают среду .NET Core. Некоторые службы Azure предоставляют пакеты SDK, недоступные в среде .NET Core. Это временные обстоятельства, так как все службы Azure используют среду .NET Core. В то же время в качестве альтернативы клиентскому пакету SDK можно использовать REST API.

## <a name="see-also"></a>См. также

- [Выбор между ASP.NET и ASP.NET Core](/aspnet/core/choose-aspnet-framework)
- [ASP.NET Core с целевой платформой .NET Framework](/aspnet/core/introduction-to-aspnet-core#aspnet-core-targeting-net-framework)
- [Целевые платформы](frameworks.md)
- [Введение в .NET Core](../core/introduction.md)
- [Перенос кода в .NET Core из .NET Framework](../core/porting/index.md)
- [Общие сведения о .NET и Docker](../core/docker/introduction.md)
- [Общие сведения о компонентах .NET](components.md)
- [Микрослужбы .NET: архитектура контейнерных приложений .NET](../architecture/microservices/index.md)
